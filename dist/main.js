(()=>{"use strict";let e={price:0,shippingPrice:19};const t=(t,n)=>{const r=(t=>{let n=0;for(const e of t)e.onSale||(n+=e.price*e.total),n+=e.salePrice*e.total;return n>0?n+e.shippingPrice:n})(n);var a;a=r,e={...e,price:a},t.querySelector(".total-total .total__price").textContent=`$${e.price.toFixed(2)}`},n=(e,n,r,a)=>{for(const t of a)t.name===e&&(t.total=+n);t(r,a)},r=[{name:"Vintage Backbag",salePrice:54.99,price:94.99,onSale:!0,image:"src/img/photo1.png",total:1},{name:"Levi Shoes",salePrice:74.99,price:124.99,onSale:!0,image:"src/img/photo2.png",total:1}];window.onload=function(){((e,r)=>{((e,t)=>{const n=e.querySelector(".cart__items");n.innerHTML="",t.forEach((e=>{n.innerHTML+=(e=>{const t=e.price,n=e.salePrice,r=e.name;return`\n  <div class="cart-item">\n    <div class="cart-item__image">\n      <img src=${e.image} alt=${r} />\n    </div>\n    <div class="cart-container">\n      <h2 class="cart-item__title">${r}</h2>\n      <div class="cart-item__price">\n        <span class="cart-item__price">$${n}</span>\n        <span class="cart-item__price_old">$${t}</span>\n      </div>\n      <div class="counter">\n        <div class="counter__button counter__button_increment">\n          <span class="material-icons-round"> remove </span>\n        </div>\n        <div class="counter__count">\n          <input\n            type="number"\n            name="${r}"\n            id="amountId"\n            min="1"\n            max="999"\n            value="1"\n          />\n        </div>\n        <div class="counter__button counter__button_decrement">\n          <span class="material-icons-round"> add </span>\n        </div>\n      </div>\n    </div>\n  </div>`})(e)}))})(e,r),t(e,r),((e,t)=>{const r=e.querySelectorAll("#amountId"),a=e.querySelectorAll(".counter");for(const r of a)r.addEventListener("click",(r=>{const a=r.currentTarget.querySelector("#amountId"),c=r.target.textContent.trim();"add"===c&&(a.value=+a.value+1,n(a.name,a.value,e,t)),"remove"!==c||a.value-1<0||(a.value=+a.value-1,n(a.name,a.value,e,t))}));for(const a of r)a.addEventListener("change",(r=>{const a=r.target.name,c=r.target.value;n(a,c,e,t)}))})(e,r)})(document.querySelector(".form").querySelector(".cart"),r),(()=>{const e=document.querySelector('input[type="submit"]'),t=document.querySelector(".form"),n=t.querySelector('input[name="user_email"]'),r=t.querySelector('input[name="user_phone"]');e.addEventListener("click",(e=>{var t;e.preventDefault(),t=r,(e=>/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(String(e).toLowerCase()))(n)&&(e=>/^\d[\d\(\)\ -]{4,14}\d$/.test(String(e).toLowerCase()))(t)?(()=>{document.querySelector(".main").append((()=>{const e=document.createElement("div"),t=document.createElement("p");return e.classList.add("success-message","hidden"),t.innerHTML="You successfully logged in!",e.append(t),e})());const e=document.querySelectorAll(".success-message");setTimeout((()=>{e.forEach((e=>{e.classList.remove("hidden")}))}),50),setTimeout((()=>{e.forEach((e=>{e.remove()}))}),4500)})():(()=>{document.querySelector(".main").append((()=>{const e=document.createElement("div"),t=document.createElement("p");return e.classList.add("error-message","hidden"),t.innerHTML="Invalid email or phone",e.append(t),e})());const e=document.querySelectorAll(".error-message");setTimeout((()=>{e.forEach((e=>{e.classList.remove("hidden")}))}),50),setTimeout((()=>{e.forEach((e=>{e.remove()}))}),4500)})()}))})()}})();